(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1648:(e,t,s)=>{Promise.resolve().then(s.bind(s,4125))},2267:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(4687);s(5924);var i=s(3450);function a(e){let{className:t,type:s,...a}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,i.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}},4125:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(4687),i=s(5924),a=s(5447),n=s(3695),o=s(467);function l(e){let{item:t}=e,{openReaderView:s}=(0,n.S)(),[l,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),u=(0,i.useRef)(null),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=u.current,t=f.current;if(!e||!t)return;let s=s=>{if(!d||!t)return;let r=e.getBoundingClientRect(),i=(s.clientX-r.left)/r.width,a=(s.clientY-r.top)/r.height;t.style.objectPosition="calc(50% + ".concat(-(20*(i-.5)),"px) calc(50% + ").concat(-(20*(a-.5)),"px)")};return e.addEventListener("mousemove",s),()=>{e.removeEventListener("mousemove",s)}},[d]);let h=(0,o.vy)(t.thumbnailColor,5,.3,4),g=(0,o.vy)(t.thumbnailColor,8,.4,5),p=(0,o.vy)(t.thumbnailColor,4,.4,3),[x,b]=(0,i.useState)(h);return(0,r.jsxs)(a.Zp,{ref:u,className:"card max-w-sm mb-6 overflow-hidden transition-all duration-200 relative",onClick:e=>{"a"!==e.target.tagName.toLowerCase()&&s(t.link)},style:{boxShadow:x},onMouseEnter:()=>{m(!0),b(g)},onMouseLeave:()=>{m(!1),b(h),f.current&&(f.current.style.objectPosition="50% 50%",f.current.style.transform="scale(1)")},onMouseDown:()=>b(p),onMouseUp:()=>b(g),children:[(0,r.jsxs)("div",{className:"card-bg absolute inset-0 -z-10",children:[(0,r.jsx)("div",{className:"noise absolute inset-0 bg-[url('/images/noisy-background.jpg')] bg-repeat opacity-20"}),t.thumbnail&&(0,r.jsx)("img",{src:t.thumbnail,alt:"".concat(t.title," background"),className:"absolute w-[140%] h-[120%] -bottom-[20%] -left-[20%] filter blur-[60px] brightness-[1.5] dark:brightness-50 opacity-35 scale-[1.4] transition-all duration-250 z-[-2]"})]}),t.thumbnail&&(0,r.jsx)("div",{className:"image-container relative max-h-80 overflow-hidden m-2 rounded-3xl ".concat(l?"":"loading"),children:(0,r.jsx)("img",{ref:f,src:t.thumbnail,id:"thumbnail-image",alt:"".concat(t.title," Thumbnail"),className:"thumbnail-image w-full object-cover transition-transform duration-250 rounded-3xl",style:{transform:d?"scale(1.1)":"scale(1)"},onLoad:()=>c(!0)})}),(0,r.jsxs)(a.Wu,{className:"text-content p-6 flex flex-col gap-1",children:[(0,r.jsxs)("div",{className:"website-info flex items-center gap-2 mb-2",children:[t.favicon&&(0,r.jsx)("img",{src:t.favicon,alt:"".concat(t.siteTitle," Favicon"),className:"site-favicon w-5 h-5 rounded"}),(0,r.jsx)("p",{className:"text-sm font-semibold",children:t.feedTitle||t.siteTitle})]}),(0,r.jsx)("h3",{className:"text-lg font-medium line-clamp-3 mb-1",children:t.title}),t.content&&(0,r.jsx)("div",{className:"description text-sm line-clamp-3 mb-4 opacity-80",dangerouslySetInnerHTML:{__html:t.content.replace(/<[^>]*>/g," ").substring(0,150)+(t.content.length>150?"...":"")}}),(0,r.jsx)("div",{className:"date text-xs opacity-70 font-bold mb-2",children:(e=>{try{let t=new Date(e);return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString())}catch(e){return""}})(t.published)}),(0,r.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"read-more-link text-sm font-semibold hover:underline",children:"Read more"})]})]})}var c=s(2883),d=s(8173),m=s(6117),u=s(9114);function f(e){let{feedItems:t}=e,s=(0,i.useRef)(null),[a,n]=function(){let[e,t]=(0,i.useState)([1200,800]);return(0,i.useEffect)(()=>{function e(){t([window.innerWidth,window.innerHeight])}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),{offset:o,width:f}=(0,c.Y)(s,[a,n]),h=(0,d.i)({width:f,columnWidth:360,columnGutter:24}),g=(0,m.w)(h);return 0===t.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No feeds to display. Please add some feeds in the settings."})}):(0,r.jsx)("div",{ref:s,id:"feed-container",className:"feedsContainer opacity-100 transition-opacity duration-500 mx-auto",style:{maxWidth:"1600px"},children:(0,r.jsx)(u.o,{positioner:h,resizeObserver:g,containerRef:s,items:t,height:n,offset:o,overscanBy:5,render:e=>{let{index:t,data:s,width:i}=e;return(0,r.jsx)("div",{style:{width:i,margin:"0 auto 24px auto"},children:(0,r.jsx)(l,{item:s})})}})})}var h=s(6144),g=s(2267),p=s(2474);function x(){let[e,t]=(0,i.useState)(!1),[s,a]=(0,i.useState)(""),[n,o]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{{let e=localStorage.getItem("searchPref");t(null!==e&&"true"===e)}},[]),e)?(0,r.jsx)("div",{className:"search-wrapper w-full max-w-lg mx-auto mb-12",children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&(window.open("https://www.google.com/search?q=".concat(encodeURIComponent(s)),"_blank"),a(""))},className:"relative",children:(0,r.jsxs)("div",{className:"input-holder flex items-center backdrop-blur-3xl rounded-full h-16 w-full transition-all duration-300 shadow-md\n            ".concat(n?"bg-white/80 dark:bg-black/50":"bg-white/20 dark:bg-black/20"),children:[(0,r.jsx)(g.p,{type:"text",className:"search-input h-full pl-6 pr-14 border-none bg-transparent focus-visible:ring-0 text-lg",placeholder:"Type to search",value:s,onChange:e=>a(e.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1)}),(0,r.jsx)(p.$,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-3 h-10 w-10 rounded-full",children:(0,r.jsx)(h.A,{className:"h-5 w-5 transition-colors duration-200 ".concat(n?"text-primary":"text-foreground/80")})})]})})}):null}function b(){let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async function(){n(!0);try{if("undefined"!=typeof chrome&&chrome.topSites)chrome.topSites.get(e=>{let s=e.filter(e=>!e.url.startsWith("chrome-extension://")).slice(0,10).map(async e=>{let t=new URL(e.url),s="https://www.google.com/s2/favicons?domain=".concat(t.hostname,"&sz=128");return{title:e.title,url:e.url,favicon:s}});Promise.all(s).then(t)});else{let e=localStorage.getItem("mostVisitedSites");if(e)t(JSON.parse(e));else{let e=[{title:"Google",url:"https://www.google.com",favicon:"https://www.google.com/favicon.ico"},{title:"YouTube",url:"https://www.youtube.com",favicon:"https://www.youtube.com/favicon.ico"},{title:"GitHub",url:"https://github.com",favicon:"https://github.com/favicon.ico"},{title:"Reddit",url:"https://www.reddit.com",favicon:"https://www.reddit.com/favicon.ico"},{title:"Twitter",url:"https://twitter.com",favicon:"https://twitter.com/favicon.ico"},{title:"Netflix",url:"https://www.netflix.com",favicon:"https://www.netflix.com/favicon.ico"},{title:"Amazon",url:"https://www.amazon.com",favicon:"https://www.amazon.com/favicon.ico"},{title:"Wikipedia",url:"https://www.wikipedia.org",favicon:"https://www.wikipedia.org/favicon.ico"}];t(e),localStorage.setItem("mostVisitedSites",JSON.stringify(e))}}}catch(e){console.error("Failed to load most visited sites:",e)}finally{n(!1)}})()},[]),s)?(0,r.jsx)("div",{className:"most-visited-sites mb-12",children:(0,r.jsx)("div",{className:"most-visited-sites-container flex flex-wrap justify-center gap-3",children:Array.from({length:8}).map((e,t)=>(0,r.jsx)("div",{className:"site-card animate-pulse",children:(0,r.jsx)(a.Zp,{className:"w-24 h-24 bg-white/10 dark:bg-black/20",children:(0,r.jsxs)(a.Wu,{className:"p-2 flex flex-col items-center justify-center h-full",children:[(0,r.jsx)("div",{className:"rounded-full bg-gray-300 dark:bg-gray-700 w-10 h-10 mb-2"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-600 rounded w-16 mb-1"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-600 rounded w-12"})]})})},t))})}):0===e.length?null:(0,r.jsx)("div",{className:"most-visited-sites mb-12",children:(0,r.jsx)("div",{className:"most-visited-sites-container flex flex-wrap justify-center gap-3",children:e.map(e=>(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"site-card focus:outline-none",children:(0,r.jsx)(a.Zp,{className:"site-card w-24 h-24 bg-white/10 dark:bg-black/20 backdrop-blur-lg hover:bg-white/20 dark:hover:bg-black/30 transition-all duration-200 shadow-md hover:shadow-lg group overflow-hidden",children:(0,r.jsxs)(a.Wu,{className:"p-2 flex flex-col items-center justify-center h-full",children:[(0,r.jsx)("div",{className:"site-card-background-image-container absolute inset-0 opacity-5 z-0 group-hover:opacity-10 transition-opacity",style:{backgroundImage:"url(".concat(e.favicon,")")}}),(0,r.jsx)("img",{src:e.favicon,alt:"".concat(e.title," Favicon"),className:"site-favicon w-10 h-10 mb-2 rounded object-contain",onError:e=>{e.target.src="/images/placeholder-favicon.png"}}),(0,r.jsx)("div",{className:"site-title",children:(0,r.jsx)("p",{className:"text-xs text-center line-clamp-2",children:e.title})})]})})},e.url))})})}var w=s(5995),v=s(8025),y=s(8541);function j(){let e=(0,y.useRouter)();return(0,r.jsx)(p.$,{id:"settings-button",variant:"ghost",size:"icon",className:"fixed top-4 right-4 z-10 bg-background/30 backdrop-blur-sm hover:bg-background/50",onClick:()=>{e.push("/settings")},"aria-label":"Settings",children:(0,r.jsx)(v.A,{className:"h-5 w-5"})})}function N(){let[e,t]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[n,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),m=async()=>{if("undefined"!=typeof chrome&&chrome.storage)return new Promise(e=>{chrome.storage.local.get("subscribedFeeds",t=>{if(t.subscribedFeeds)e(t.subscribedFeeds);else{let t=["http://www.theverge.com/rss/index.xml","https://www.wired.com/feed/rss","https://www.engadget.com/rss.xml"];chrome.storage.local.set({subscribedFeeds:t}),e(t)}})});{let e=localStorage.getItem("subscribedFeeds");if(!e){let e=["http://www.theverge.com/rss/index.xml","https://www.wired.com/feed/rss","https://www.engadget.com/rss.xml"];return localStorage.setItem("subscribedFeeds",JSON.stringify(e)),e}return JSON.parse(e)}},u=async()=>{if("undefined"!=typeof chrome&&chrome.storage)return new Promise(e=>{chrome.storage.local.get(["feedItems","feedItemsTimestamp"],t=>{if(!t.feedItems||!t.feedItemsTimestamp){e(null);return}let s=parseInt(t.feedItemsTimestamp);new Date().getTime()-s<9e5?(l(new Date(s)),e(t.feedItems)):e(null)})});if("undefined"!=typeof localStorage){let e=localStorage.getItem("feedItems"),t=localStorage.getItem("feedItemsTimestamp");if(!e||!t)return null;if(new Date().getTime()-parseInt(t)<9e5)return l(new Date(parseInt(t))),JSON.parse(e)}return null};return(0,i.useEffect)(()=>{let e=async()=>{a(!0),d(null);try{let e=await m();if(0===e.length){a(!1);return}let s=await u();if(s){t(s),a(!1);return}let r=await (0,o.wX)(e),i=new Date().getTime();"undefined"!=typeof chrome&&chrome.storage?chrome.storage.local.set({feedItems:r.items,feedItemsTimestamp:i}):"undefined"!=typeof localStorage&&(localStorage.setItem("feedItems",JSON.stringify(r.items)),localStorage.setItem("feedItemsTimestamp",i.toString())),t(r.items),l(new Date(i))}catch(e){console.error("Failed to load feeds:",e),d("Failed to load feeds. Please try again later.")}finally{a(!1)}};e();let s=e=>{if("rssUpdate"===e.action&&e.data)try{let s=JSON.parse(e.data);t(s.items),l(new Date),a(!1)}catch(e){console.error("Error parsing RSS update:",e)}};"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.onMessage.addListener(s);let r=setInterval(()=>{e()},9e5);return()=>{clearInterval(r),"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.onMessage.removeListener(s)}},[]),(0,r.jsxs)("main",{className:"min-h-screen",children:[(0,r.jsx)(w.A,{}),(0,r.jsxs)("div",{id:"main-container",className:"container mx-auto p-4 relative",children:[(0,r.jsx)(j,{}),(0,r.jsxs)("div",{className:"header flex flex-col items-center justify-center min-h-[55vh] py-36 px-8",children:[(0,r.jsx)(x,{}),(0,r.jsx)(b,{})]}),n&&(0,r.jsxs)("div",{className:"feed-refresh-timer text-white/90 font-semibold text-sm mb-3",children:["Last refreshed: ",n.toLocaleTimeString()]}),s?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("div",{className:"spinner h-12 w-12 rounded-full border-4 border-primary/20 border-t-primary animate-spin"})}):c?(0,r.jsx)("div",{className:"bg-destructive/10 text-destructive p-4 rounded-md",children:c}):(0,r.jsx)(f,{feedItems:e})]})]})}},5447:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>a,aR:()=>n});var r=s(4687);s(5924);var i=s(3450);function a(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("flex flex-col gap-1.5 px-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",t),...s})}},5995:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(4687),i=s(5924),a=s(467);function n(){let[e,t]=(0,i.useState)(null),[s,n]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{let s=async()=>{try{let e=await (0,a.mB)();t(e)}catch(e){console.error("Failed to load background image:",e)}finally{n(!1)}},r=e=>{"bingImageResponse"===e.action&&e.imageBlob&&(t({url:URL.createObjectURL(e.imageBlob),title:e.title,copyright:e.copyright}),n(!1))};return"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.onMessage.addListener(r),s(),()=>{"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.onMessage.removeListener(r),(null==e?void 0:e.url)&&e.url.startsWith("blob:")&&URL.revokeObjectURL(e.url)}},[]),(0,i.useEffect)(()=>{let t=()=>{if(!e)return;let t=window.scrollY||document.documentElement.scrollTop,s=Math.min(t/100,10),r=Math.min(t/1e3,.4),i=document.getElementById("background-image");i&&(i.style.filter="blur(".concat(s,"px) brightness(").concat(.7-r,")"))};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e]),s)?(0,r.jsx)("div",{className:"background-image-container fixed inset-0 -z-10 bg-black/50"}):e?(0,r.jsxs)("div",{className:"background-image-container fixed inset-0 -z-10",children:[(0,r.jsx)("img",{id:"background-image",src:e.url,alt:e.title,className:"w-[105%] h-[105%] object-cover brightness-[0.7] -top-[2.5%] -left-[2.5%] fixed transition-all duration-100"}),(0,r.jsxs)("div",{className:"attribution-container absolute top-6 left-6 p-2.5 text-white text-xs opacity-75 hover:opacity-100 z-[-1]",children:[(0,r.jsx)("p",{className:"attribution-title font-bold opacity-75 hover:opacity-100",children:e.title}),(0,r.jsxs)("p",{className:"attribution-copyright italic",children:[e.copyright," | Bing & Microsoft"]})]})]}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[298,320,695,238,908,358],()=>t(1648)),_N_E=e.O()}]);